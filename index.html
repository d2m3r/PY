<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<title>Penalty AI — Signal Assistant</title>

<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Russo+One&display=swap" rel="stylesheet">

<style>
:root{
  --bg-1:#030612;
  --panel:rgba(12,12,18,0.88);
  --accent:#00b3ff;
  --accent-2:#00e0ff;
  --muted:#99a6b2;
}

html,body{
  height:100%;
  margin:0;
  font-family:"Roboto Mono",monospace;
  color:var(--muted);
  display:flex;
  align-items:center;
  justify-content:center;
  background:var(--bg-1);
  overflow:hidden;
}

video.bg-video{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  object-fit:cover;
  z-index:-2;
  filter:brightness(0.35) contrast(1.1);
}

/* Центрирование карточки */
.card{
  position:relative;
  width:100%;
  max-width:420px;
  height:calc(100vh - 24px);
  max-height:740px;
  background:rgba(15,15,20,0.8);
  border-radius:18px;
  box-shadow:0 20px 80px rgba(0,0,0,0.65);
  backdrop-filter:blur(10px);
  padding:20px;
  z-index:1;
  border:1px solid rgba(0,179,255,0.06);
  display:flex;
  flex-direction:column;
  justify-content:space-between;
}

/* при маленьких экранах уменьшаем масштаб */
@media (max-height: 720px) {
  .card {
    transform: scale(0.92);
    transform-origin: center;
  }
}
@media (max-height: 640px) {
  .card {
    transform: scale(0.85);
  }
}

.header{display:flex;gap:14px;align-items:center;}
.logo{width:56px;height:56px;border-radius:50%;background:url("avatar.jpg") center/cover no-repeat;box-shadow:0 0 20px 4px rgba(0,179,255,0.3);flex-shrink:0;}
.title-block{display:flex;flex-direction:column;}
.title{font-family:"Russo One",sans-serif;color:white;font-size:16px;letter-spacing:1px;}
.subtitle{font-size:11px;color:var(--muted);margin-top:6px;max-width:300px;}

.body{display:flex;flex-direction:column;gap:16px;margin-top:14px;flex:1;}
.visual{
  background:rgba(0,0,0,0.2);
  border-radius:12px;
  padding:14px;
  flex:1;
  border:1px solid rgba(255,255,255,0.03);
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:280px;
}

/* поле ворот */
.goal-area{
  position:relative;
  width:100%;
  max-width:380px;
  aspect-ratio:5/3;
  border-radius:10px;
  overflow:hidden;
}

.goal-bg{
  position:absolute;
  inset:0;
  background:url('goal.png') center/contain no-repeat;
  background-size:contain;
}

.goal-grid{
  position:absolute;
  inset:10%;
  display:grid;
  grid-template-columns:repeat(5,1fr);
  grid-template-rows:repeat(3,1fr);
  gap:8px;
  justify-items:center;
  align-items:center;
}

.cell{
  width:100%;
  aspect-ratio:1/1;
  border-radius:6px;
  background:rgba(255,255,255,0.06);
  backdrop-filter:blur(2px);
  transition:background 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease;
}

/* Кибер-хакерская анимация */
@keyframes cyberPulse {
  0% { box-shadow: 0 0 2px rgba(0,224,255,0.5), 0 0 6px rgba(0,179,255,0.3); transform: scale(1); }
  25% { box-shadow: 0 0 4px rgba(0,224,255,0.6), 0 0 10px rgba(0,179,255,0.4); transform: scale(1.05); }
  50% { box-shadow: 0 0 6px rgba(0,224,255,0.7), 0 0 14px rgba(0,179,255,0.5); transform: scale(1.1); }
  75% { box-shadow: 0 0 4px rgba(0,224,255,0.6), 0 0 10px rgba(0,179,255,0.4); transform: scale(1.05); }
  100% { box-shadow: 0 0 2px rgba(0,224,255,0.5), 0 0 6px rgba(0,179,255,0.3); transform: scale(1); }
}

.cell.active {
  background: rgba(0,224,255,0.4);
  animation: cyberPulse 1s infinite;
}

.controls{
  background:rgba(6,6,8,0.3);
  border-radius:12px;
  padding:14px;
  display:flex;
  flex-direction:column;
  gap:12px;
}

.big-btn{
  background:linear-gradient(90deg,#00b3ff,#00e0ff);
  color:white;
  border:none;
  padding:12px 14px;
  font-size:16px;
  border-radius:10px;
  cursor:pointer;
  transition:transform .15s ease,box-shadow .15s ease;
  box-shadow:0 0 25px rgba(0,179,255,0.3);
}
.big-btn:hover{transform:scale(1.02);box-shadow:0 0 40px rgba(0,179,255,0.45);}
.big-btn.disabled{opacity:0.45;pointer-events:none;}

.progress{
  height:8px;
  background:rgba(255,255,255,0.05);
  border-radius:8px;
  overflow:hidden;
}

.progress>i{
  display:block;
  height:100%;
  width:0%;
  background:linear-gradient(90deg,var(--accent),var(--accent-2));
  transition:width 0.05s linear;
}

.meta{
  display:flex;
  justify-content:space-between;
  font-size:12px;
  color:var(--muted);
}
</style>
</head>
<body>
<video class="bg-video" autoplay muted loop playsinline>
  <source src="bg.mp4" type="video/mp4">
</video>

<div class="card">
  <div class="header">
    <div class="logo"></div>
    <div class="title-block">
      <div class="title">Penalty AI</div>
      <div class="subtitle">Основан на технологии Reationale и более 20 ключевых индикаторов.</div>
    </div>
  </div>
  <div class="body">
    <div class="visual">
      <div class="goal-area">
        <div class="goal-bg"></div>
        <div class="goal-grid" id="grid"></div>
      </div>
    </div>
    <div class="controls">
      <button id="getBtn" class="big-btn">GET SIGNAL</button>
      <div class="progress"><i id="progressBar"></i></div>
      <div class="meta">
        <div>Status: <span id="status">ready</span></div>
        <div>Cooldown: <strong id="cooldown">0</strong>s</div>
      </div>
    </div>
  </div>
</div>

<script>
const grid=document.getElementById('grid'),
      getBtn=document.getElementById('getBtn'),
      progressBar=document.getElementById('progressBar'),
      statusEl=document.getElementById('status'),
      cooldownEl=document.getElementById('cooldown');

const ANALYSIS_MS=1600,COOLDOWN_SEC=2;
const cells=[];

for(let r=0;r<3;r++){
  for(let c=0;c<5;c++){
    const el=document.createElement('div');
    el.className='cell';
    grid.appendChild(el);
    cells.push(el);
  }
}

function randomSignal(){return Math.floor(Math.random()*cells.length)}

function highlight(idx){
  cells.forEach(c=>{
    c.style.background='rgba(255,255,255,0.06)';
    c.classList.remove('active');
  });
  cells[idx].classList.add('active');
}

function startAnalysis(){
  statusEl.textContent="analysis...";
  progressBar.style.width="0%";
  
  const start = Date.now();
  const interval = setInterval(()=>{
    let elapsed = Date.now() - start;
    let progress = Math.min((elapsed / ANALYSIS_MS)*100, 100);
    progressBar.style.width = progress + "%";
    if(progress >= 100) clearInterval(interval);
  }, 20);
}

function finishAnalysis(){
  const idx=randomSignal();
  highlight(idx);
  statusEl.textContent="ready";
}

function startCooldown(){
  let rem=COOLDOWN_SEC;
  cooldownEl.textContent=rem;
  getBtn.classList.add('disabled');
  const timer=setInterval(()=>{
    rem--;
    cooldownEl.textContent=rem;
    if(rem<=0){
      clearInterval(timer);
      getBtn.classList.remove('disabled');
      cooldownEl.textContent='0';
    }
  },1000);
}

getBtn.addEventListener('click',async()=>{
  if(getBtn.classList.contains('disabled')) return;
  startAnalysis();
  getBtn.classList.add('disabled');
  await new Promise(r=>setTimeout(r,ANALYSIS_MS));
  finishAnalysis();
  startCooldown();
});
</script>
</body>
</html>
